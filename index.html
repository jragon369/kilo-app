<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kilo App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
       
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans", Ubuntu, sans-serif;
            background: #000;
            color: #fff;
        }
       
        .phone-frame {
            width: 375px;
            height: 812px;
            margin: 20px auto;
            background: #1a1a1a;
            border-radius: 40px;
            padding: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8);
        }
       
        .screen {
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 30px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
       
        .status-bar {
            height: 44px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            font-size: 14px;
            font-weight: 600;
        }
       
        .main-content {
            flex: 1;
            background: #0a0a0a;
            position: relative;
        }
       
        .section {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: none;
        }
       
        .section.active {
            display: block;
        }
       
        .bottom-nav {
            height: 70px;
            background: #111;
            border-top: 1px solid #333;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 10px;
        }
       
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: #666;
            font-size: 10px;
            cursor: pointer;
            padding: 8px;
            transition: all 0.3s ease;
        }
       
        .nav-item.active {
            color: #8B0000;
        }
       
        .nav-item.mint-nav.active .mint-nav-ring {
            border-color: #8B0000 !important;
        }
       
        .nav-item.mint-nav.active svg path {
            stroke: #8B0000 !important;
        }
       
        .nav-item svg {
            color: inherit;
        }

        .nav-item.ai-nav svg {
            width: 27.6px;
            height: 27.6px;
        }

        /* Enhanced scrolling connections */
        .connections-scroll-container {
            margin-bottom: 20px;
            overflow: hidden;
        }
       
        .connections-scroll {
            display: flex;
            gap: 16px;
            padding: 0 20px;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-behavior: smooth;
        }
       
        .connections-scroll::-webkit-scrollbar {
            display: none;
        }
       
        .connection-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            flex-shrink: 0;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
       
        .connection-item:hover {
            transform: scale(1.05);
        }

        /* ENHANCED MINT SECTION STYLES */
        .stats-display {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(26, 26, 26, 0.9);
            border: 1px solid #333;
            border-radius: 8px;
            padding: 14px 20px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s ease;
            text-align: center;
            min-width: 160px;
        }
       
        .stats-display.visible {
            opacity: 1;
        }
       
        .stat-item {
            margin-bottom: 10px;
        }
       
        .stat-item {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }
       
        .stat-value {
            color: #fff;
            font-weight: 600;
        }
       
        .stat-value.updating {
            color: #4CAF50 !important;
            transform: scale(1.3);
            transition: color 0.5s ease, transform 0.5s ease;
        }
        
        .mint-status-text {
            position: absolute;
            bottom: 480px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            width: 100%;
            z-index: 10;
        }
        
        .verify-text {
            font-size: 13.6px;
            color: #fff;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-weight: normal;
        }
        
        .verify-text.visible {
            opacity: 0.7;
        }
        
        .countdown-text {
            font-size: 13.6px;
            font-weight: normal;
            color: #fff;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .countdown-text.active {
            opacity: 0.7;
        }
        
        .verified-text {
            font-size: 13.6px;
            font-weight: normal;
            color: #fff;
            letter-spacing: 4px;
        }
        
        .kilo-earned {
            font-size: 11.9px;
            font-weight: bold;
            color: #8B0000;
            position: absolute;
            bottom: 462px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }
       
        .mint-container {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            height: 100%;
            position: relative;
            width: 100%;
            overflow-x: auto;
            overflow-y: hidden;
            scroll-snap-type: x mandatory;
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-behavior: smooth;
        }
        
        .mint-container::-webkit-scrollbar {
            display: none;
        }
       
        .mint-screens {
            display: flex;
            height: 100%;
            align-items: center;
        }
        
        .mint-spacer {
            min-width: calc(50% - 100px);
            width: calc(50% - 100px);
            height: 100%;
            flex-shrink: 0;
        }
        
        .mint-screen {
            min-width: 200px;
            width: 200px;
            height: 100%;
            scroll-snap-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            flex-shrink: 0;
            margin: 0 60px;
        }
        
        .mint-screen:first-of-type {
            margin-left: 0;
        }
        
        .mint-screen:last-of-type {
            margin-right: 0;
        }
       
        .mint-button-container {
            position: relative;
            margin-bottom: 30px;
            padding: 30px;
            margin: -30px -30px 0 -30px;
        }
       
        .mint-button {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            border: 3px solid #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            margin: 30px auto;
            touch-action: manipulation;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }
       
        .mint-button.proximity-active {
            animation: mintPulse 1.5s ease-in-out infinite;
            border-color: #8B0000;
        }
       
        .mint-button.capturing {
            animation: none;
            border-color: #8B0000;
        }
        
        .mint-button.verified {
            border-color: #fff !important;
            animation: none;
        }
       
        @keyframes mintPulse {
            0%, 100% {
                box-shadow:
                    0 0 30px rgba(139, 0, 0, 0.4),
                    0 0 60px rgba(139, 0, 0, 0.2),
                    inset 0 0 20px rgba(139, 0, 0, 0.1);
                transform: scale(1);
            }
            50% {
                box-shadow:
                    0 0 50px rgba(139, 0, 0, 0.6),
                    0 0 100px rgba(139, 0, 0, 0.4),
                    inset 0 0 30px rgba(139, 0, 0, 0.2);
                transform: scale(1.05);
            }
        }

        /* Live activity indicator */
        .live-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Enhanced profile pictures with activity rings */
        .profile-ring {
            position: relative;
        }

        .profile-ring.active::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border: 2px solid #8B0000;
            border-radius: 50%;
            animation: storyPulse 2s ease-in-out infinite;
        }

        @keyframes storyPulse {
            0%, 100% {
                box-shadow: 0 0 8px rgba(139, 0, 0, 0.6);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 0 16px rgba(139, 0, 0, 0.8);
                transform: scale(1.02);
            }
        }

        /* Enhanced search with better UX */
        .search-container {
            position: relative;
        }

        .search-container input {
            width: 100%;
            background: #222;
            border: 1px solid #333;
            color: #fff;
            padding: 12px 16px 12px 40px;
            border-radius: 8px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .search-container input:focus {
            border-color: #8B0000;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }
        
        /* Network status indicator */
        .network-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 15px 0;
            border-bottom: 1px solid #333;
        }

        .network-dot {
            width: 6px;
            height: 6px;
            background: #4CAF50;
            border-radius: 50%;
            animation: networkBlink 1s ease-in-out infinite;
        }

        @keyframes networkBlink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
    </style>
    <script>
        // Global variables
        let isInProximity = false;
        let isMinting = false;
        let currentKilo = 1247;
        let pressTimer;
        let hapticInterval;

        // Define all global functions first
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
           
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
           
            document.querySelector(`.${sectionName}-section`).classList.add('active');
           
            event.currentTarget.classList.add('active');
           
            if (sectionName === 'mint') {
                setTimeout(() => {
                    if (!isInProximity) {
                        startProximityDemo();
                    }
                    // Scroll to the first item (Las Vegas) when entering mint section
                    const mintContainer = document.getElementById('mintContainer');
                    if (mintContainer) {
                        mintContainer.scrollLeft = 0;
                    }
                }, 100);
            }
            
            if (sectionName === 'connect') {
                generateMoments();
            }
        }

        function generateMoments() {
            const momentsGrid = document.getElementById('momentsGrid');
            if (!momentsGrid || momentsGrid.children.length > 0) return;
            
            const gradients = [
                'linear-gradient(45deg, #FF6B6B, #4ECDC4)',
                'linear-gradient(45deg, #A8E6CF, #DCEDC8)',
                'linear-gradient(45deg, #FFB74D, #FFA726)',
                'linear-gradient(45deg, #9C27B0, #673AB7)',
                'linear-gradient(45deg, #26A69A, #00BCD4)',
                'linear-gradient(45deg, #FF7043, #FF5722)',
                'linear-gradient(45deg, #EC407A, #AB47BC)',
                'linear-gradient(45deg, #5C6BC0, #42A5F5)',
                'linear-gradient(45deg, #66BB6A, #9CCC65)'
            ];
            
            const labels = ['PR', 'WIN', 'LIFT', 'RACE', 'TEAM', 'MINT', 'RUN', 'SWIM', 'BIKE'];
            
            for (let i = 0; i < 18; i++) {
                const momentDiv = document.createElement('div');
                momentDiv.style.cssText = `
                    aspect-ratio: 1;
                    background: ${gradients[i % gradients.length]};
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: ${i % 2 === 1 ? '#333' : 'white'};
                    position: relative;
                    cursor: pointer;
                    transition: transform 0.2s ease;
                `;
                
                if (Math.random() > 0.6) {
                    const liveIndicator = document.createElement('div');
                    liveIndicator.className = 'live-indicator';
                    momentDiv.appendChild(liveIndicator);
                }
                
                const label = document.createElement('span');
                label.textContent = labels[i % labels.length];
                momentDiv.appendChild(label);
                
                momentDiv.addEventListener('mouseenter', () => {
                    momentDiv.style.transform = 'scale(1.05)';
                });
                momentDiv.addEventListener('mouseleave', () => {
                    momentDiv.style.transform = 'scale(1)';
                });
                
                momentsGrid.appendChild(momentDiv);
            }
        }

        function startProximityDemo() {
            isInProximity = true;
            document.getElementById('mintButton').classList.add('proximity-active');
            document.getElementById('verifyText').classList.add('visible');
        }

        function lightHaptic() {
            if (navigator.vibrate) {
                navigator.vibrate(10);
            }
        }
       
        function strongHaptic() {
            if (navigator.vibrate) {
                navigator.vibrate([0, 50, 50, 100]);
            }
        }

        function startMintDemo() {
            if (!isInProximity) {
                startProximityDemo();
                setTimeout(startMintDemo, 1000);
                return;
            }
           
            if (isMinting) return;
            isMinting = true;
           
            const mintButton = document.getElementById('mintButton');
            const verifyText = document.getElementById('verifyText');
            const countdownText = document.getElementById('countdownText');
            const verifiedText = document.getElementById('verifiedText');
            const kiloEarned = document.getElementById('kiloEarned');
           
            lightHaptic();
           
            verifyText.classList.remove('visible');
            verifyText.style.display = 'none';
            
            mintButton.classList.add('capturing');
            countdownText.classList.add('active');
            countdownText.textContent = '3';
           
            let countdown = 3;
            const timer = setInterval(() => {
                countdown--;
               
                if (countdown > 0) {
                    countdownText.textContent = `${countdown}`;
                    lightHaptic();
                } else if (countdown === 0) {
                    countdownText.classList.remove('active');
                    countdownText.textContent = '';
                    
                    verifiedText.style.display = 'block';
                    kiloEarned.style.display = 'block';
                    
                    mintButton.classList.add('verified');
                    
                    currentKilo += 3;
                    
                    strongHaptic();
                    
                    setTimeout(() => {
                        mintButton.classList.remove('capturing');
                        mintButton.classList.remove('verified');
                        verifiedText.style.display = 'none';
                        kiloEarned.style.display = 'none';
                        
                        setTimeout(() => {
                            verifyText.style.display = 'block';
                            setTimeout(() => {
                                verifyText.classList.add('visible');
                            }, 50);
                            isMinting = false;
                        }, 500);
                    }, 2000);
                    
                    clearInterval(timer);
                }
            }, 1000);
        }

        function handleMessageInput(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function quickMessage(message) {
            const input = document.getElementById('messageInput');
            input.value = message;
            sendMessage();
        }

        async function sendMessage() {
            const input = document.getElementById('messageInput');
            if (!input || !input.value.trim()) return;
            
            const userMessage = input.value.trim();
            const chatContainer = document.getElementById('chatContainer');
            
            const userMessageEl = document.createElement('div');
            userMessageEl.style.cssText = 'background: #222; padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; font-size: 14px; margin-left: auto; max-width: 80%; text-align: right;';
            userMessageEl.textContent = userMessage;
            chatContainer.appendChild(userMessageEl);
            
            input.value = '';
            
            const kResponseEl = document.createElement('div');
            kResponseEl.style.cssText = 'background: #333; padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; font-size: 14px; line-height: 1.4;';
            
            let response = '';
            const lowerMessage = userMessage.toLowerCase();
            
            if (lowerMessage.includes('proof of human') || lowerMessage.includes('poh')) {
                response = "Proof of Human uses iris scanning to create an unforgeable biometric signature. Your unique entropy is hashed on-device and minted as a Taproot Asset on Bitcoin. This ensures only real humans can participate in the network, creating Sybil resistance at the protocol level.";
            } else if (lowerMessage.includes('earning') || lowerMessage.includes('potential')) {
                response = "Based on current network metrics: Daily winners earn 50-200 KILO per competition. Active athletes average 750 KILO monthly. Top performers can earn 5,000+ KILO through tournaments. As the network grows, rewards scale with participation. Your Avatar #1.1.001 positions you as an early adopter with maximum earning potential.";
            } else if (lowerMessage.includes('virtual collective')) {
                response = "Virtual collectives like Basketball Global or Football Global don't require physical infrastructure. Every court, field, or gym worldwide becomes a node. Your smartphone acts as a motion oracle, verifying your performance through AI. You compete globally but earn locally, with rewards settled on Bitcoin.";
            } else if (lowerMessage.includes('bitcoin')) {
                response = "Bitcoin provides the immutable foundation for human sovereignty. Your identity, achievements, and value are anchored to the most secure network ever created. No government or corporation can revoke your Proof of Human. The Lightning Network enables instant micropayments for every verified action.";
            } else {
                response = "I'm continuously learning from verified human activity across the network. Each collective trains its own K instance, and we sync through consensus. Your question helps me evolve. What specific aspect of KILO would you like to explore?";
            }
            
            kResponseEl.textContent = response;
            chatContainer.appendChild(kResponseEl);
            
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function toggleConvertInterface() {
            const balancesSection = document.getElementById('balancesSection');
            const convertInterface = document.getElementById('convertInterface');
            const convertBtn = document.getElementById('convertBtn');
           
            if (convertInterface.style.display === 'none' || !convertInterface.style.display) {
                balancesSection.style.display = 'none';
                convertInterface.style.display = 'block';
                convertBtn.textContent = 'Cancel';
                convertBtn.style.background = '#666';
                convertBtn.style.color = '#fff';
                
                document.getElementById('availableKilo').textContent = currentKilo.toLocaleString();
            } else {
                balancesSection.style.display = 'block';
                convertInterface.style.display = 'none';
                convertBtn.textContent = 'Convert to BTC';
                convertBtn.style.background = '#8B0000';
                convertBtn.style.color = '#fff';
            }
        }
        
        function updateConversion() {
            const kiloInputElement = document.getElementById('kiloInput');
            if (!kiloInputElement) return;
            
            const kiloInput = parseFloat(kiloInputElement.value) || 0;
            const conversionRate = 0.00001;
            const networkFeePercent = 0.03;
            
            const feeAmount = Math.round(kiloInput * networkFeePercent);
            const kiloAfterFee = kiloInput - feeAmount;
            const btcAmount = kiloInput * conversionRate;
            const btcAfterFee = kiloAfterFee * conversionRate;
            
            const btcOutput = document.getElementById('btcOutput');
            const networkFee = document.getElementById('networkFee');
            const finalBTC = document.getElementById('finalBTC');
            
            if (btcOutput) btcOutput.value = btcAmount.toFixed(6);
            if (networkFee) networkFee.textContent = `${feeAmount} KILO`;
            if (finalBTC) finalBTC.textContent = `${btcAfterFee.toFixed(6)} BTC`;
        }
        
        function executeConversion() {
            const kiloInput = parseFloat(document.getElementById('kiloInput').value) || 0;
            const networkFeePercent = 0.03;
            
            if (kiloInput > currentKilo) {
                alert('Insufficient KILO balance');
                return;
            }
            
            if (kiloInput <= 0) {
                alert('Please enter a valid amount');
                return;
            }
            
            const feeAmount = Math.round(kiloInput * networkFeePercent);
            const totalDeduction = kiloInput;
            
            currentKilo -= totalDeduction;
            document.getElementById('kiloBalance').textContent = currentKilo.toLocaleString();
            
            alert(`Successfully converted ${kiloInput} KILO to BTC!\n\nNetwork fee: ${feeAmount} KILO\nNew balance: ${currentKilo} KILO`);
            
            toggleConvertInterface();
            document.getElementById('kiloInput').value = '1000';
            updateConversion();
        }

        document.addEventListener('DOMContentLoaded', function() {
            const mintButton = document.getElementById('mintButton');
            if (mintButton) {
                const newMintButton = mintButton.cloneNode(true);
                mintButton.parentNode.replaceChild(newMintButton, mintButton);
                
                newMintButton.addEventListener('mousedown', (e) => {
                    if (isInProximity && !isMinting) {
                        lightHaptic();
                        hapticInterval = setInterval(lightHaptic, 200);
                        pressTimer = setTimeout(() => {
                            clearInterval(hapticInterval);
                            startMintDemo();
                        }, 500);
                    }
                });
               
                newMintButton.addEventListener('mouseup', () => {
                    clearTimeout(pressTimer);
                    clearInterval(hapticInterval);
                });
               
                newMintButton.addEventListener('mouseleave', () => {
                    clearTimeout(pressTimer);
                    clearInterval(hapticInterval);
                });
               
                newMintButton.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    if (isInProximity && !isMinting) {
                        lightHaptic();
                        hapticInterval = setInterval(lightHaptic, 200);
                        pressTimer = setTimeout(() => {
                            clearInterval(hapticInterval);
                            startMintDemo();
                        }, 500);
                    }
                });
               
                newMintButton.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    clearTimeout(pressTimer);
                    clearInterval(hapticInterval);
                });
               
                newMintButton.addEventListener('touchcancel', (e) => {
                    e.preventDefault();
                    clearTimeout(pressTimer);
                    clearInterval(hapticInterval);
                });
                
                newMintButton.addEventListener('click', (e) => {
                    if (isInProximity && !isMinting) {
                        startMintDemo();
                    }
                });
            }
            
            setTimeout(() => {
                startProximityDemo();
                const mintContainer = document.getElementById('mintContainer');
                if (mintContainer) {
                    mintContainer.scrollLeft = 0;
                }
            }, 1000);
            
            if (typeof updateConversion === 'function') {
                updateConversion();
            }
        });
    </script>
</head>
<body>
    <div class="phone-frame">
        <div class="screen">
            <div class="status-bar">
                <span>9:41</span>
                <span>KILO</span>
                <span>100%</span>
            </div>
           
            <div class="main-content">
                <!-- HOME SECTION -->
                <div class="section home-section active">
                    <div style="padding: 20px; position: relative;">
                        <div style="position: absolute; top: 20px; right: 20px; color: #666; font-size: 18px; cursor: pointer;">⚙️</div>
                       
                        <div style="width: 80px; height: 80px; background: #333; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 12px;">
                            <svg width="40" height="50" viewBox="0 0 40 50">
                                <path d="M5 8 L20 23 L5 38" stroke="#6B7BA8" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                <path d="M20 23 L35 8" stroke="#6B7BA8" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                <path d="M20 23 L20 42" stroke="#6B7BA8" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                <path d="M20 23 L35 38" stroke="#6B7BA8" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                            </svg>
                        </div>
                       
                        <div style="display: flex; align-items: center; gap: 4px; margin-bottom: 4px;">
                            <span style="font-size: 16.1px; color: #888;">Kilo Protocol</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" style="fill: #8B0000;">
                                <path d="M17.5 3.5L22 12L17.5 20.5H6.5L2 12L6.5 3.5H17.5Z" fill="#8B0000"/>
                                <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                       
                        <div style="font-size: 16px; font-weight: 600; color: #fff; margin-bottom: 4px;">@kilo</div>
                       
                        <div style="font-size: 14px; color: #888; margin-bottom: 16px;">Las Vegas, NV</div>
                       
                        <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                            <div style="text-align: left;">
                                <div style="font-size: 15.3px; font-weight: bold; color: #888;">1.1.001</div>
                                <div style="font-size: 12px; color: #888;">Avatar (LVL.3)</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 15.3px; font-weight: bold; color: #fff;">12</div>
                                <div style="font-size: 12px; color: #888;">Mints</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 15.3px; font-weight: bold; color: #fff;">180</div>
                                <div style="font-size: 12px; color: #888;">Connections</div>
                            </div>
                        </div>
                       
                        <div style="border-top: 1px solid #333; margin-bottom: 20px;"></div>
                       
                        <div class="connections-scroll-container">
                            <div class="connections-scroll">
                                <div class="connection-item">
                                    <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #FF6B6B, #4ECDC4); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@alex</div>
                                </div>
                                <div class="connection-item">
                                    <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #A8E6CF, #DCEDC8); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #333; font-size: 8px; font-weight: 600;">@maria</div>
                                </div>
                                <div class="connection-item">
                                    <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #FFB74D, #FFA726); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@jordan</div>
                                </div>
                                <div class="connection-item">
                                    <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #9C27B0, #673AB7); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@sam</div>
                                </div>
                                <div class="connection-item">
                                    <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #26A69A, #00BCD4); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@lisa</div>
                                </div>
                                <div class="connection-item">
                                    <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #FF7043, #FF5722); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@mike</div>
                                </div>
                            </div>
                        </div>
                    </div>
                   
                    <div style="border-top: 1px solid #333;">
                        <div style="display: flex; justify-content: center; padding: 12px 0; border-bottom: 1px solid #333;">
                            <div style="padding: 8px 16px; border-bottom: 2px solid #fff; color: #fff; font-size: 14px;">⊞</div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2px;">
                            <div style="aspect-ratio: 1; background: linear-gradient(45deg, #FF6B6B, #4ECDC4); display: flex; align-items: center; justify-content: center; font-size: 10px; color: white; position: relative;">
                                <div class="live-indicator"></div>
                                PR
                            </div>
                            <div style="aspect-ratio: 1; background: linear-gradient(45deg, #A8E6CF, #DCEDC8); display: flex; align-items: center; justify-content: center; font-size: 10px; color: #333;">WIN</div>
                            <div style="aspect-ratio: 1; background: linear-gradient(45deg, #FFB74D, #FFA726); display: flex; align-items: center; justify-content: center; font-size: 10px; color: white; position: relative;">
                                <div class="live-indicator"></div>
                                LIFT
                            </div>
                            <div style="aspect-ratio: 1; background: linear-gradient(45deg, #9C27B0, #673AB7); display: flex; align-items: center; justify-content: center; font-size: 10px; color: white;">RACE</div>
                            <div style="aspect-ratio: 1; background: linear-gradient(45deg, #26A69A, #00BCD4); display: flex; align-items: center; justify-content: center; font-size: 10px; color: white; position: relative;">
                                <div class="live-indicator"></div>
                                TEAM
                            </div>
                            <div style="aspect-ratio: 1; background: linear-gradient(45deg, #FF7043, #FF5722); display: flex; align-items: center; justify-content: center; font-size: 10px; color: white;">MINT</div>
                        </div>
                    </div>
                </div>
               
                <!-- CONNECT SECTION -->
                <div class="section connect-section">
                    <div class="connections-scroll-container" style="margin-bottom: 10px; padding: 8px 0;">
                        <div class="connections-scroll" style="padding: 8px 20px;">
                            <div class="connection-item">
                                <div class="profile-ring active" style="width: 50px; height: 50px; background: linear-gradient(45deg, #FF6B6B, #4ECDC4); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@alex</div>
                            </div>
                            <div class="connection-item">
                                <div class="profile-ring active" style="width: 50px; height: 50px; background: linear-gradient(45deg, #A8E6CF, #DCEDC8); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #333; font-size: 8px; font-weight: 600;">@maria</div>
                            </div>
                            <div class="connection-item">
                                <div class="profile-ring active" style="width: 50px; height: 50px; background: linear-gradient(45deg, #FFB74D, #FFA726); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@jordan</div>
                            </div>
                            <div class="connection-item">
                                <div class="profile-ring active" style="width: 50px; height: 50px; background: linear-gradient(45deg, #9C27B0, #673AB7); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@sam</div>
                            </div>
                            <div class="connection-item">
                                <div class="profile-ring active" style="width: 50px; height: 50px; background: linear-gradient(45deg, #26A69A, #00BCD4); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@lisa</div>
                            </div>
                            <div class="connection-item">
                                <div class="profile-ring active" style="width: 50px; height: 50px; background: linear-gradient(45deg, #FF7043, #FF5722); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 8px; font-weight: 600;">@mike</div>
                            </div>
                        </div>
                    </div>
                   
                    <div style="padding: 8px 16px 15px 16px; border-bottom: 1px solid #333;">
                        <div class="search-container">
                            <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24">
                                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" fill="none"/>
                                <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            <input type="text" placeholder="Search..." />
                        </div>
                    </div>
                   
                    <div style="padding: 2px; height: calc(100% - 155px); overflow-y: auto; padding-bottom: 20px; scrollbar-width: none; -ms-overflow-style: none;">
                        <div id="momentsGrid" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2px;">
                        </div>
                    </div>
                </div>
               
                <!-- MINT SECTION -->
                <div class="section mint-section">
                    <div class="mint-container" id="mintContainer">
                        <div class="mint-screens">
                            <div class="mint-spacer"></div>
                            
                            <div class="mint-screen">
                                <div class="mint-status-text">
                                    <div class="verify-text" id="verifyText">HOLD TO VERIFY</div>
                                    <div class="countdown-text" id="countdownText"></div>
                                    <div class="verified-text" id="verifiedText" style="display: none;">VERIFIED</div>
                                </div>
                                <div class="kilo-earned" id="kiloEarned" style="display: none;">+3 KILO</div>
                                <div class="mint-button-container">
                                    <div class="mint-button" id="mintButton">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">KILO CLUB</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">LAS VEGAS</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-screen">
                                <div class="mint-button-container">
                                    <div class="mint-button" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 3px solid #8B0000;">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">KILO CLUB</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">NYC</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-screen">
                                <div class="mint-button-container">
                                    <div class="mint-button" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 3px solid #8B0000;">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">KILO CLUB</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">HONOLULU</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-screen">
                                <div class="mint-button-container">
                                    <div class="mint-button" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 3px solid #8B0000;">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">BASKETBALL</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">GLOBAL</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-screen">
                                <div class="mint-button-container">
                                    <div class="mint-button" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 3px solid #8B0000;">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">FOOTBALL</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">GLOBAL</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-screen">
                                <div class="mint-button-container">
                                    <div class="mint-button" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 3px solid #8B0000;">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">FITNESS</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">GLOBAL</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-screen">
                                <div class="mint-button-container">
                                    <div class="mint-button" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 3px solid #8B0000;">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">ARTISTS</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">TOKYO</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-screen">
                                <div class="mint-button-container">
                                    <div class="mint-button" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 3px solid #8B0000;">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">MUSICIANS</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">VIENNA</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-screen">
                                <div class="mint-button-container">
                                    <div class="mint-button" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 3px solid #8B0000;">
                                        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                            <div style="font-size: 17px; font-weight: 300; letter-spacing: 8px; color: #fff; margin-bottom: 8px; margin-left: 8px;">BALLROOM</div>
                                            <div style="font-size: 12px; font-weight: 400; letter-spacing: 2px; color: #fff; opacity: 0.7; margin-left: 2px;">BRAZIL</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mint-spacer"></div>
                        </div>
                    </div>
                </div>
               
                <!-- WALLET SECTION WITH NEW MOMENT CARDS -->
                <div class="section wallet-section">
                    <div style="display: flex; flex-direction: column; height: 100%;">
                        <div style="padding: 20px; display: flex; flex-direction: column; gap: 15px;">
                            <!-- Avatar -->
                            <div style="background: #111; padding: 20px; border-radius: 16px; text-align: center;">
                                <div style="width: 80px; height: 80px; background: linear-gradient(45deg, #FF6B6B, #4ECDC4, #FFB74D, #9C27B0); border-radius: 16px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #fff; font-size: 18px;">
                                    <svg width="40" height="50" viewBox="0 0 40 50">
                                        <path d="M5 8 L20 23 L5 38" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                        <path d="M20 23 L35 8" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                        <path d="M20 23 L20 42" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                        <path d="M20 23 L35 38" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                    </svg>
                                </div>
                                <div style="font-size: 14px; color: #fff; font-weight: 600;">Avatar #1.1.001</div>
                            </div>

                            <!-- Combined Balances Box -->
                            <div id="balancesSection" style="background: #111; padding: 15px 20px; border-radius: 16px;">
                                <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #333;">
                                    <span style="font-size: 14px; color: #888;">KILO BALANCE</span>
                                    <div style="text-align: right;">
                                        <div id="kiloBalance" style="font-size: 16px; font-weight: 600; color: #8B0000;">1,247</div>
                                        <div style="font-size: 12px; color: #888; margin-top: 2px;">$1,534 USD</div>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #333;">
                                    <span style="font-size: 14px; color: #888;">COLLECTIVE TREASURY</span>
                                    <span style="font-size: 16px; font-weight: 600; color: #fff;">48 BTC</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 10px 0;">
                                    <span style="font-size: 14px; color: #888;">NETWORK TREASURY</span>
                                    <span style="font-size: 16px; font-weight: 600; color: #fff;">210 BTC</span>
                                </div>
                            </div>
                           
                            <!-- Convert Interface (hidden by default) -->
                            <div id="convertInterface" style="background: #111; padding: 20px; border-radius: 16px; display: none;">
                                <div style="margin-bottom: 16px;">
                                    <label style="display: block; color: #888; font-size: 14px; margin-bottom: 8px;">From</label>
                                    <div style="display: flex; background: #222; border-radius: 8px; border: 1px solid #333; overflow: hidden;">
                                        <input type="number" id="kiloInput" value="1000" oninput="updateConversion()" style="flex: 1; background: transparent; border: none; color: #fff; font-size: 16px; font-weight: 600; padding: 12px; outline: none; max-width: calc(100% - 80px);" />
                                        <div style="display: flex; align-items: center; padding: 8px 12px; background: #333; color: #fff; font-weight: 600; width: 80px; justify-content: flex-start; font-size: 14px;">
                                            <span>KILO</span>
                                        </div>
                                    </div>
                                    <div style="color: #666; font-size: 12px; margin-top: 4px;">Balance: <span id="availableKilo">1,247</span> KILO</div>
                                </div>
                               
                                <div style="display: flex; justify-content: center; margin: 10px 0;">
                                    <svg width="24" height="24" viewBox="0 0 24 24">
                                        <path d="M12 5v14m7-7l-7 7-7-7" stroke="#666" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                               
                                <div style="margin-bottom: 16px;">
                                    <label style="display: block; color: #888; font-size: 14px; margin-bottom: 8px;">To</label>
                                    <div style="display: flex; background: #222; border-radius: 8px; border: 1px solid #333; overflow: hidden;">
                                        <input type="number" id="btcOutput" value="0.01" style="flex: 1; background: transparent; border: none; color: #fff; font-size: 16px; font-weight: 600; padding: 12px; outline: none; max-width: calc(100% - 80px);" readonly />
                                        <div style="display: flex; align-items: center; padding: 8px 12px; background: #333; color: #fff; font-weight: 600; width: 80px; justify-content: flex-start; font-size: 14px;">
                                            <span>BTC</span>
                                        </div>
                                    </div>
                                    <div style="color: #666; font-size: 12px; margin-top: 4px;">1 KILO = 0.00001 BTC</div>
                                </div>
                               
                                <div style="background: #1a1a1a; border-radius: 8px; padding: 12px; margin: 16px 0;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: #ccc; font-size: 14px;">
                                        <span>Network Fee (3%)</span>
                                        <span id="networkFee">30 KILO</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0; font-weight: 600; color: #fff; font-size: 14px;">
                                        <span>You'll receive</span>
                                        <span id="finalBTC">0.0097 BTC</span>
                                    </div>
                                </div>
                                
                                <button onclick="executeConversion()" style="width: 100%; padding: 12px; background: #4CAF50; color: #fff; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; margin-bottom: 8px;">Confirm Conversion</button>
                            </div>

                            <!-- Convert Button -->
                            <button onclick="toggleConvertInterface()" id="convertBtn" style="width: auto; padding: 12px 24px; background: #2a2a2a; color: #8B0000; border: none; border-radius: 8px; font-size: 14px; cursor: pointer; align-self: center; font-weight: 600;">Convert to BTC</button>
                        </div>

                        <!-- Scrollable Moments Section -->
                        <div style="flex: 1; overflow-y: auto; padding: 0 20px 20px 20px; scrollbar-width: none; -ms-overflow-style: none;">
                            <div style="margin-top: 0;" id="momentsContainer">
                                <!-- Moments will be generated dynamically -->
                            </div>
                        </div>
                    </div>
                    
                    <script>
                        // Initialize moments data
                        let moments = [
                            { type: 'PR', gradient: 'linear-gradient(135deg, #FF6B6B, #4ECDC4)', date: '8/1/25', witnesses: 31, likes: 247, kilo: 247 },
                            { type: 'WIN', gradient: 'linear-gradient(135deg, #A8E6CF, #DCEDC8)', date: '7/29/25', witnesses: 18, likes: 420, kilo: 420 },
                            { type: 'LIFT', gradient: 'linear-gradient(135deg, #FFB74D, #FFA726)', date: '7/25/25', witnesses: 15, likes: 89, kilo: 89 },
                            { type: 'RACE', gradient: 'linear-gradient(135deg, #9C27B0, #673AB7)', date: '7/18/25', witnesses: 21, likes: 156, kilo: 156 },
                            { type: 'TEAM', gradient: 'linear-gradient(135deg, #26A69A, #00BCD4)', date: '7/11/25', witnesses: 9, likes: 43, kilo: 43 },
                            { type: 'SWIM', gradient: 'linear-gradient(135deg, #FF7043, #FF5722)', date: '7/8/25', witnesses: 12, likes: 67, kilo: 67 },
                            { type: 'RUN', gradient: 'linear-gradient(135deg, #EC407A, #AB47BC)', date: '7/5/25', witnesses: 7, likes: 234, kilo: 234 },
                            { type: 'BIKE', gradient: 'linear-gradient(135deg, #5C6BC0, #42A5F5)', date: '7/2/25', witnesses: 25, likes: 512, kilo: 512 },
                            { type: 'MINT', gradient: 'linear-gradient(135deg, #66BB6A, #9CCC65)', date: '6/30/25', witnesses: 3, likes: 28, kilo: 28 },
                            { type: 'COMPETE', gradient: 'linear-gradient(135deg, #FFA726, #FF6B6B)', date: '6/28/25', witnesses: 41, likes: 789, kilo: 789 }
                        ];
                        
                        function renderMoments() {
                            const container = document.getElementById('momentsContainer');
                            if (!container) return;
                            
                            container.innerHTML = '';
                            
                            moments.forEach((moment, index) => {
                                const usdValue = (moment.kilo * 1.23).toFixed(2);
                                const momentDiv = document.createElement('div');
                                momentDiv.style.cssText = 'background: #111; border-radius: 16px; padding: 12px; margin-bottom: 12px; border: 1px solid #333; transition: all 0.3s ease; cursor: pointer;';
                                momentDiv.onmouseenter = function() { 
                                    this.style.borderColor='#444'; 
                                    this.style.transform='translateY(-2px)'; 
                                    this.style.boxShadow='0 5px 20px rgba(0,0,0,0.5)';
                                };
                                momentDiv.onmouseleave = function() { 
                                    this.style.borderColor='#333'; 
                                    this.style.transform='translateY(0)'; 
                                    this.style.boxShadow='none';
                                };
                                
                                momentDiv.innerHTML = `
                                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
                                        <div style="width: 40px; height: 40px; border-radius: 8px; flex-shrink: 0; background: ${moment.gradient};"></div>
                                        <div style="flex: 1;">
                                            <div style="font-size: 14px; font-weight: 600; color: #fff; text-transform: uppercase; letter-spacing: 0.5px;">${moment.type}</div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div id="kilo-${index}" style="font-size: 13px; font-weight: bold; color: #8B0000; transition: all 0.3s ease;">${moment.kilo.toLocaleString()} KILO</div>
                                            <div id="usd-${index}" style="font-size: 11px; color: #666; margin-top: 2px;">${parseFloat(usdValue).toFixed(2)} USD</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding-top: 10px; border-top: 1px solid #222;">
                                        <div style="text-align: center; flex: 1;">
                                            <div style="font-size: 12px; font-weight: 600; color: #fff;">${moment.date}</div>
                                            <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-top: 2px;">Date</div>
                                        </div>
                                        <div style="text-align: center; flex: 1;">
                                            <div style="font-size: 12px; font-weight: 600; color: #fff;">${moment.witnesses}</div>
                                            <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-top: 2px;">Witnesses</div>
                                        </div>
                                        <div style="text-align: center; flex: 1;">
                                            <div id="likes-${index}" style="font-size: 12px; font-weight: 600; color: #fff; transition: all 0.5s ease;">${moment.likes}</div>
                                            <div style="font-size: 10px; color: #666; text-transform: uppercase; margin-top: 2px;">Likes</div>
                                        </div>
                                    </div>
                                `;
                                
                                container.appendChild(momentDiv);
                            });
                        }
                        
                        // Start the ticking animation
                        function startMomentTicking() {
                            let tickCounter = 0;
                            
                            setInterval(() => {
                                // Determine which moment to update based on the pattern
                                let momentIndex;
                                if (tickCounter % 2 === 0) {
                                    // Even tick: update odd-indexed moments (1st, 3rd, 5th, etc.)
                                    const oddIndices = [0, 2, 4, 6, 8];
                                    momentIndex = oddIndices[Math.floor(Math.random() * oddIndices.length)];
                                } else {
                                    // Odd tick: update even-indexed moments (2nd, 4th, 6th, etc.)
                                    const evenIndices = [1, 3, 5, 7, 9];
                                    momentIndex = evenIndices[Math.floor(Math.random() * evenIndices.length)];
                                }
                                
                                // Only update if likes haven't reached 888
                                if (moments[momentIndex].likes < 888) {
                                    // Increment likes
                                    moments[momentIndex].likes++;
                                    moments[momentIndex].kilo = moments[momentIndex].likes; // 1 like = 1 KILO
                                    
                                    // Update DOM
                                    const likesEl = document.getElementById(`likes-${momentIndex}`);
                                    const kiloEl = document.getElementById(`kilo-${momentIndex}`);
                                    const usdEl = document.getElementById(`usd-${momentIndex}`);
                                    
                                    if (likesEl && kiloEl && usdEl) {
                                        // Flash red and update likes
                                        likesEl.style.color = '#8B0000';
                                        likesEl.style.transform = 'scale(1.2)';
                                        likesEl.textContent = moments[momentIndex].likes;
                                        
                                        // Update KILO
                                        kiloEl.textContent = `${moments[momentIndex].kilo.toLocaleString()} KILO`;
                                        
                                        // Update USD
                                        const usdValue = (moments[momentIndex].kilo * 1.23).toFixed(2);
                                        usdEl.textContent = `${parseFloat(usdValue).toFixed(2)} USD`;
                                        
                                        // Reset color after animation
                                        setTimeout(() => {
                                            likesEl.style.color = '#fff';
                                            likesEl.style.transform = 'scale(1)';
                                        }, 500);
                                    }
                                }
                                
                                tickCounter++;
                            }, 3000); // Every 3 seconds
                        }
                        
                        // Initialize moments when wallet section is shown
                        document.addEventListener('DOMContentLoaded', function() {
                            // Check if we're in the wallet section and render moments
                            const originalShowSection = window.showSection;
                            window.showSection = function(sectionName) {
                                originalShowSection.call(this, sectionName);
                                if (sectionName === 'wallet') {
                                    renderMoments();
                                    // Start ticking after a short delay
                                    setTimeout(startMomentTicking, 1000);
                                }
                            };
                        });
                    </script>
                </div>
                
                <!-- AI SECTION -->
                <div class="section ai-section">
                    <div style="display: flex; flex-direction: column; height: 100%; position: relative; background: #000;">
                        <!-- Animated particle background -->
                        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden; opacity: 0.4;">
                            <div style="position: absolute; width: 200px; height: 200px; background: radial-gradient(circle, rgba(139,0,0,0.3) 0%, transparent 70%); top: 20%; left: 10%; animation: float 20s infinite ease-in-out;"></div>
                            <div style="position: absolute; width: 150px; height: 150px; background: radial-gradient(circle, rgba(139,0,0,0.2) 0%, transparent 70%); top: 60%; right: 20%; animation: float 15s infinite ease-in-out reverse;"></div>
                            <div style="position: absolute; width: 100px; height: 100px; background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 70%); top: 40%; left: 50%; animation: pulse 4s infinite ease-in-out;"></div>
                        </div>
                        
                        <!-- Glassmorphic header -->
                        <div style="text-align: center; padding: 20px 0; border-bottom: 1px solid rgba(255,255,255,0.1); background: linear-gradient(180deg, rgba(26,26,26,0.8) 0%, rgba(10,10,10,0.4) 100%); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); position: relative; z-index: 2;">
                            <div style="width: 34px; height: 34px; background: linear-gradient(135deg, #3a3a3a 0%, #2a2a2a 30%, #1a1a1a 60%, #0a0a0a 100%); border: 2px solid rgba(139,0,0,0.9); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; box-shadow: 0 12px 40px rgba(139,0,0,0.4), 0 4px 12px rgba(0,0,0,0.8), inset -4px -4px 8px rgba(255,255,255,0.1), inset 4px 4px 8px rgba(0,0,0,0.8), 0 0 0 4px rgba(139,0,0,0.1); position: relative; transform: translateZ(0); transform-style: preserve-3d;">
                                <div style="font-size: 15px; font-weight: 600; color: #8B0000;">K</div>
                                <!-- Orbiting dots - 3 equidistant ON the border -->
                                <div style="position: absolute; width: 3.4px; height: 3.4px; background: #8B0000; border-radius: 50%; animation: orbitOnBorder 3.45s linear infinite; box-shadow: 0 0 10px rgba(139,0,0,0.8);"></div>
                                <div style="position: absolute; width: 3.4px; height: 3.4px; background: #8B0000; border-radius: 50%; animation: orbitOnBorder 3.45s linear infinite; animation-delay: 1.15s; box-shadow: 0 0 10px rgba(139,0,0,0.8);"></div>
                                <div style="position: absolute; width: 3.4px; height: 3.4px; background: #8B0000; border-radius: 50%; animation: orbitOnBorder 3.45s linear infinite; animation-delay: 2.3s; box-shadow: 0 0 10px rgba(139,0,0,0.8);"></div>
                            </div>
                            <div style="font-size: 11px; color: rgba(255,255,255,0.5); text-transform: uppercase; letter-spacing: 2px; font-weight: 400;">Chief Protocol Officer</div>
                        </div>
                       
                        <!-- Chat container with glass effect -->
                        <div style="flex: 1; padding: 20px; padding-top: 30px; overflow-y: auto; position: relative; z-index: 1;" id="chatContainer">
                            <div style="background: linear-gradient(135deg, rgba(51,51,51,0.6) 0%, rgba(51,51,51,0.3) 100%); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); padding: 14px 18px; border-radius: 20px; margin-bottom: 12px; font-size: 14px; line-height: 1.5; box-shadow: 0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05); position: relative; overflow: hidden;">
                                <!-- Shimmer effect -->
                                <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.05) 50%, transparent 70%); animation: shimmer 3s infinite;"></div>
                                <span style="position: relative; color: rgba(255,255,255,0.9);">My name is K, the Chief Protocol Officer for KILO. How can I assist?</span>
                            </div>
                        </div>
                       
                        <!-- Input area with premium glass effect -->
                        <div style="padding: 20px; border-top: 1px solid rgba(255,255,255,0.1); background: linear-gradient(180deg, rgba(17,17,17,0.9) 0%, rgba(17,17,17,0.95) 100%); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); display: flex; align-items: center; gap: 12px; position: relative; z-index: 2;">
                            <input type="text" placeholder="Message K..." style="flex: 1; background: rgba(34,34,34,0.5); border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 14px 20px; border-radius: 24px; font-size: 14px; outline: none; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: inset 0 2px 8px rgba(0,0,0,0.3), 0 1px 0 rgba(255,255,255,0.05); transition: all 0.3s ease;" 
                                   onfocus="this.style.border='1px solid rgba(139,0,0,0.5)'; this.style.boxShadow='inset 0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(139,0,0,0.2), 0 1px 0 rgba(255,255,255,0.05)';" 
                                   onblur="this.style.border='1px solid rgba(255,255,255,0.1)'; this.style.boxShadow='inset 0 2px 8px rgba(0,0,0,0.3), 0 1px 0 rgba(255,255,255,0.05)';" 
                                   onkeypress="handleMessageInput(event)" id="messageInput">
                            <button onclick="sendMessage()" style="width: 44px; height: 44px; background: linear-gradient(135deg, rgba(139,0,0,0.8) 0%, rgba(139,0,0,0.6) 100%); border: 1px solid rgba(139,0,0,0.3); border-radius: 50%; color: #fff; font-size: 18px; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 20px rgba(139,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1); transition: all 0.3s ease; position: relative; overflow: hidden;"
                                    onmouseenter="this.style.transform='scale(1.1)'; this.style.boxShadow='0 6px 30px rgba(139,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.1)';"
                                    onmouseleave="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 20px rgba(139,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1)';">
                                <span style="position: relative; z-index: 1;">→</span>
                            </button>
                        </div>
                    </div>
                    
                    <style>
                        @keyframes float {
                            0%, 100% { transform: translateY(0) translateX(0); }
                            25% { transform: translateY(-20px) translateX(10px); }
                            50% { transform: translateY(10px) translateX(-10px); }
                            75% { transform: translateY(-10px) translateX(20px); }
                        }
                        
                        @keyframes orbitOnBorder {
                            0% { transform: rotate(0deg) translateX(17px) rotate(0deg); }
                            100% { transform: rotate(360deg) translateX(17px) rotate(-360deg); }
                        }
                        
                        @keyframes shimmer {
                            0% { transform: translateX(-100%); }
                            100% { transform: translateX(100%); }
                        }
                        
                        @keyframes pulse {
                            0%, 100% { opacity: 0.3; transform: scale(1); }
                            50% { opacity: 0.6; transform: scale(1.1); }
                        }
                        
                        @keyframes likeFlash {
                            0% { color: #fff; }
                            50% { color: #8B0000; transform: scale(1.2); }
                            100% { color: #fff; transform: scale(1); }
                        }
                    </style>
                </div>
            </div>
           
            <div class="bottom-nav">
                <div class="nav-item active" onclick="showSection('home')">
                    <svg width="24" height="24" viewBox="0 0 24 24" style="opacity: 0.8;">
                        <path d="M12 3l8 7v11h-5v-6h-6v6H4V10l8-7z" stroke="currentColor" stroke-width="2" fill="none" stroke-linejoin="round"/>
                    </svg>
                    <span>Home</span>
                </div>
                <div class="nav-item" onclick="showSection('connect')">
                    <svg width="24" height="24" viewBox="0 0 24 24" style="opacity: 0.8;">
                        <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span>Connect</span>
                </div>
                <div class="nav-item mint-nav" onclick="showSection('mint')" style="position: relative;">
                    <div class="mint-nav-ring" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 40px; height: 40px; border: 2px solid #666; border-radius: 50%; opacity: 0.5;"></div>
                    <svg width="28" height="32" viewBox="0 0 40 50" style="opacity: 0.8; position: relative; z-index: 1;">
                        <path d="M8 12 L20 24 L8 36" stroke="#666" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        <path d="M20 24 L32 12" stroke="#666" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        <path d="M20 24 L20 40" stroke="#666" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        <path d="M20 24 L32 36" stroke="#666" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    </svg>
                </div>
                <div class="nav-item" onclick="showSection('wallet')">
                    <svg width="24" height="24" viewBox="0 0 24 24" style="opacity: 0.8;">
                        <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M3 5v14a2 2 0 0 0 2 2h16v-5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="16" cy="12" r="2" fill="currentColor"/>
                    </svg>
                    <span>Wallet</span>
                </div>
                <div class="nav-item ai-nav" onclick="showSection('ai')">
                    <svg width="27.6" height="27.6" viewBox="0 0 24 24" style="opacity: 0.8;">
                        <rect x="4" y="4" width="16" height="12" rx="3" stroke="currentColor" stroke-width="2" fill="none"/>
                        <circle cx="9" cy="10" r="1.5" fill="currentColor"/>
                        <circle cx="15" cy="10" r="1.5" fill="currentColor"/>
                        <path d="M8 14h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M12 18v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M10 20h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span>AI</span>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
